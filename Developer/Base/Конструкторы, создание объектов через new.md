---
tags: 
aliases: 
---
Обычный синтаксис создания объекта (через фигурные скобки) может моздать только один объект. Когда нам надо создать много однотипных объектов можно использовать функцию-конструктор и оператор "new".

Технически функцию конструктор это обычная функция. Но есть два соглашения.
1. Такая ф. именуюется с большой буквы
2. Это функция используется только через оператор "new". 

> **Поток сознания**. Оператор "new" указывает на то что js  язык объектов. Мы говорим что то что мы моздали будет будет новым обектом другого объекта. Так происходит всегда, но через "new" это видно явно. И значит что все свойства и метода наследуются от этого родительского объекат, в этом весь прикол.

###### Пример
```js
function User(name) {
  this.name = name;
  this.isAdmin = false;
}

let user = new User("Jack");

alert(user.name); // Jack
alert(user.isAdmin); // false`
```

Когда функция вызывается, происходит это:
1. Создается новый пустой объект и он присваивается this.
2. Выполняется код ф. Обычно он модифицирует this, добавляет туда новые свойства
3. Возвращает значения this.
Другими словами, вызов `new User(...)` делает примерно вот что:
```js
function User(name) {
 // this = {};  (неявно)

  // добавляет свойства к this
  this.name = name;
  this.isAdmin = false;

 // return this;  (неявно)
}
```

То есть, результат вызова `new User("Вася")` – это тот же объект, что и:
```js
let user = {
  name: "Вася",
  isAdmin: false
};
```

Теперь, когда нам необходимо будет создать других пользователей, мы можем использовать `new User("Маша")`, `new User("Даша")` и т.д. Данная конструкция гораздо удобнее и читабельнее, чем каждый раз создавать литерал объекта. Это и является основной целью конструкторов – удобное повторное создание однотипных объектов.

### Возврат значения из конструктора return
Обычно конструкторы ничего не возвращают явно. Их задача – записать все необходимое в `this`, который в итоге станет результатом.

Но если `return` всё же есть, то применяется простое правило:

-   При вызове `return` с объектом, будет возвращён объект, а не `this`.
-   При вызове `return` с примитивным значением, примитивное значение будет отброшено.

Другими словами, `return` с объектом возвращает объект, в любом другом случае конструктор вернёт `this`.
### Итого
- Функции-конструкторы или просто конструкторы являются обычными функциями, именовать которые следует с заглавной буквы.
-  Конструкторы следует вызывать при помощи оператора new. Такой вызов создаёт пустой this в начале выполнения и возвращает заполненный в конце.


---
###### Citation
https://learn.javascript.ru/constructor-new
Date: 2021-11-08T15:50
