---
tags: 
aliases: 
---
## Table of contents

- [[#Guides Git]]
- [[#Рабочий процесс]]
- [[#Как оформлять коммит]]
- [[#Команды конфигурации]]
- [[#Основные команды]]
- [[#Работа с ветками]]
- [[#Расширенная работа с логами]]
- [[#Common aliases]]

### Guides Git
- [[Как оформлять коммиты]]
- [Как удалить коммит](https://samwize.com/2014/01/15/how-to-remove-a-commit-that-is-already-pushed-to-github/)

### Рабочий процесс
[[#Table of contents|toTable ]]

- Шаг 1: Инициализация папки. Говорим что теперь за этой папкой будешь следить
- Шаг 2: Индексация. Добавляем файли в слежку. В каком сосотоянии проиндексированны в таком состоянии и закомитятся.
- Шаг 3: Коммит. Создания точки возврата. Сюда мы можем вернуться. Коммит сопровождается неким описанием.
- Шаг 4: Pull. Загрузить код вместе с историей о его создании (коммитами) в облако.
- Шаг 5: При необходимости можно путешествовать по контрольным точкам. Можно создавать новые ветки. Работа в таких ветках не влияет на главные код проекта. Это надо когда работает команда разработчиком, иначе они просто могут затрать код друг друга.
  

### Когда что то пошло не так
[[#Table of contents|toTable ]]

| Команда                             | В случае                                                                                           |
| ----------------------------------- | -------------------------------------------------------------------------------------------------- |
| git checkout fileName               | Вернуться к состоянию последнего коммита, еще не закомиченный файл, или востановить если он удален |
| git checkout commitHash fileName    | Файл перейти в состояние одного из прошых коммитов.                                                |
| git reset HEAD fileName             | Убрать файл из индексации                                                                          |
| git commit --amend -m "Новый текст" | Исправить сообщение комита если ошибся например                                                    |
| git rm fileName                     | Удалить файл из коммита. Файл был закомичен по ошибке. Он удалится и из папки                      |
| git rm --cash fileName              | Удалить файл из коммита, но оставить на диске                                                      |
| git commit --amend --no-edit        | Сделала манипуляции с файлами, но не хотим менять сообщения коммита, просто поменять его.                                                                                                   |

### Конфликты

##### Конфлиект первого рода
Разные изменения в ветках над одним и тем же куском кода. → надо в ручную поправить файли и закоммитить.

Если файл был удален в одной ветке а в другой оставлен → либо добавить в индексацию что бы оставить, либо удалить из индексации(rm).
### Команды  конфигурации
[[#Table of contents|toTable ]]

| Команда                                                  | Описание                            |
| -------------------------------------------------------- | ----------------------------------- |
| git config --global user.name "Your Name"                | Установка имени и электронной почты |
| git config --global user.email "your_email@whatever.com" | Установка имени и электронной почты |
| git config --global core.autocrlf true                   | Параметры установки окончаний строк |
| git config --global core.safecrlf warn                   | Параметры установки окончаний строк |
| git config --global core.quotepath off                   | Установка отображения unicode       |



### Основные команды
[[#Table of contents|toTable ]]
HEAD → Указывает на текущее положени

| Команда                     | Описание                                                                                                                                                                                                                |
| --------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| git init                    | Позволяет проинициализировать репозиторий в текущей папке                                                                                                                                                               |
| git status                  | Показывает текущий статус                                                                                                                                                                                               |
| git add                     | Отслеживает изменения файлов git add index.html — добавляет index.html git add . — добавляет все файлы                                                                                                                  |
| git commit                  | Сохраняет изменения в коммит git commit -m 'commit message' — создает коммит с сообщением                                                                                                                               |
| git commit -a -m "comment"  | Укажет на то, что необходимо взять все изменения из рабочей директории, внести их в индекс (`git add`) и тут же закоммитить в репозиторий. **Но `-a` игнорирует файлы, который не отслеживаются git** (untracked file). |
| git pull                    | Забирает изменения с удаленного репозитория в локальный                                                                                                                                                                 |
| git push                    | Заливает текущие локальные коммиты в удаленный репозиторий                                                                                                                                                              |
| git push -u origin master   | Соединение с удаленный репозиторием имеющпийся проект. -u говоит чтобы гид соеденил ветку локальную с удаленной. Это делается один раз в начале.                                                                        |
| git clone                   | Клонирует проект с удаленного репозитория                                                                                                                                                                               |
| git log                     | История коммитов                                                                                                                                                                                                        |
| git diff                    | Покажет изменения относительно последнего коммита, --stade покажет проиндексированные изменения                                                                                                                         |
| git show commitHash         | Покажет изменения выбранного коммита                                                                                                                                                                                    |
| git remote add peroName url | Добавит удаленный репозиторий                                                                                                                                                                                           |
| git remote -v               | Покажет удаленные репозитории                                                                                                                                                                                           |
| git fetch origin            | Забирает с origin ветки. Посути это пулл + мердж. Надо быть уже в созданной ветку и ее название должно совпадать с удаленной.                                                                                                                                                                                                                 |




### Работа с ветками
[[#Table of contents|toTable ]]

| Команда                                          | Описание                                                                                                                                                                           |
| ------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| git branch                                       | Работа с ветками в репозитории git branch — показывает список веток git branch branch-name — создает новую ветку branch-name git branch -D branch-name — удаляет ветку branch-name |
| git merge branch-name                            | Совмещает текущую ветку с выбранной  branch-name                                                                                                                                   |
| git checkout -b branch-name commitHash           | Создает и переключается на ветку branch-name. commitHash - может указать с какого именно коммита пойдет новая ветка. Может мы хотим где-то в прошлом создать ветку                 |
| git checkout branch-name                         | Переключается на последний коммит в ветке branch-name                                                                                                                              |
| git push origin localBranchName:remoteBranchName | Так можно запушить локальную ветку в любую удаленную, даже если у них разные именна                                                                                                |
| git push origin :remoteBranchName                | Удалить удаленную ветку                                                                                                                                                            |
| git branch -m newName                            | Переименовать ветку                                                                                                                                                                |
| git branch --set-upstream-to=origin              | Связывает ветку локальную с веткой удаленной. Тогда можно будет писать push/pull безничего                                                                                         |
| git branch -vv                                   | 'Очень подробно'. Показывает какая ветка с какой связанна                                                                                                                                                                                   |
                                    
### Работы с чужими проектами
1. Надо форкнуть 'fork' проект себе
2. У себя можно пушить
3. Потом открыть пул реквест. 

Если во время работы изменился сам форк проект, то надо вручную его подтянуть. (сам форк не умеет синхронизировапться)
1.  Значит. Добавляем удаленный репозиторий по ssh форкнутого проекта. 
2.  Пулим его к себе
3.  Теперь у нас точно те комиты которые есть в прокте источнике и эти изменения можно запушит себе, тем самым обновить форкнутый проект. Думаю просто форкнуть заного нельзя, так как у нас там имеются наши коиитты
4.  если у нас возник конфликт, надо влить нашу ветку в масте ветку источника с которого мы обновляли наш проект и исправить конфликт как обычно, ручками.


### Расширенная работа с логами
[[#Table of contents|toTable ]]

| Команда                                                                | Описание                                                                                                                                   |
| ---------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| git log --pretty=oneline                                               | Однострочная история                                                                                                                       |
| git log --all --pretty=format:"%h %cd %s (%an)" --since='7 days ago'   | для просмотра изменений, сделанных за последнюю неделю. добавлю `--author=naumov`, если я хочу увидеть только изменения, которые сделал я. |
| git log --pretty=format:"%h %ad &mid; %s%d [%an]" --graph --date=short | что для большей части моей работы мне подходит следующий формат лога                                                                       |
                    
-   `--pretty="..."` — определяет формат вывода.
-   `%h` — укороченный хэш коммита
-   `%d` — дополнения коммита («головы» веток или теги)
-   `%ad` — дата коммита
-   `%s` — комментарий
-   `%an` — имя автора
-   `--graph` — отображает дерево коммитов в виде ASCII-графика
-   `--date=short` — сохраняет формат даты коротким и симпатичным

### Common aliases
[[#Table of contents|toTable ]]

Шоркаты для команд гит

| Команда                                                                | алиас |
| ---------------------------------------------------------------------- | ----- |
| git log --pretty=format:"%h %ad &mid; %s%d [%an]" --graph --date=short | hist  |
| git config --global alias.co checkout                                  | co    |
| git config --global alias.ci commit                                    | ci    |
| git config --global alias.st status                                    | st    |
| git config --global alias.br branch                                    | br    |
| git config --global alias.type 'cat-file -t'                           | type  |
| git config --global alias.dump 'cat-file -p'                           | dump  |


---
#### Citation
Документация
- [Шпаргалка по консольным командам Git]( https://github.com/nicothin/web-development/blob/master/git/readme.md)
	- [Мои инструменты и технологии Николай Громов](https://nicothin.pro/page/my-small-tools)
- [Документация по Git](https://git-scm.com/book/ru/v2)
- [Решение проблем в Git](http://firstaidgit.ru/#/)

Курсы
- [Обучение Git'у и его возможностям](https://githowto.com/ru) 
- [Интерактивные уроки «Learn Git Branching»](https://learngitbranching.js.org/)

Статья
- [Как склеить коммиты и зачем это нужно](https://htmlacademy.ru/blog/boost/tools/how-to-squash-commits-and-why-it-is-needed)
- [Работа с Git через консоль](https://htmlacademy.ru/blog/boost/frontend/git-console)
- [Полезные команды для работы с Git](https://htmlacademy.ru/blog/boost/tools/useful-commands-for-working-with-git)
- [Статья про разницу между LF и CRLF.](https://htmlacademy.ru/blog/389-konec-stroki "https://htmlacademy.ru/blog/389-konec-stroki")
- [Как открыть пулреквест в GitHub и не облажаться.](https://isqua.ru/blog/2017/04/12/kak-otkryt-pull-riekviest-v-github-i-nie-oblazhatsia/ "https://isqua.ru/blog/2017/04/12/kak-otkryt-pull-riekviest-v-github-i-nie-oblazhatsia/")
- [Комментируйте свои пулл-реквесты.](https://isqua.ru/blog/2017/04/13/kommientiruitie-svoi-pull-riekviesty/ "https://isqua.ru/blog/2017/04/13/kommientiruitie-svoi-pull-riekviesty/")

Программы для работы с GitHub
-   [GitHub Desktop.](https://desktop.github.com/ "https://desktop.github.com/")
-   [GitKraken.](https://www.gitkraken.com/ "https://www.gitkraken.com/")
-   [Atlassian SourceTree.](https://www.sourcetreeapp.com/ "https://www.sourcetreeapp.com/")
-   [Sublime Merge.](https://www.sublimemerge.com/ "https://www.sublimemerge.com/")
-   [Tower.](https://www.git-tower.com/ "https://www.git-tower.com/")
Date: 08-10-2021 14:44


